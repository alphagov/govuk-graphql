<%#
Examples:
- https://www.gov.uk/world/organisations/british-embassy-harare
- https://www.gov.uk/world/organisations/british-embassy-dubai
- https://www.gov.uk/world/organisations/british-defence-staff-in-the-usa
- https://www.gov.uk/world/organisations/british-high-commission-castries
%>

<%= render "fragments/default_top_level_fields" %>
<%= render "fragments/available_translations" %>
<%= render "fragments/children" %>
<%= render "fragments/role_appointments" %>
<%= render "fragments/roles" %>
<%= render "fragments/taxons" %>
<%= render "fragments/world_locations" %>

query worldwide_organisation($base_path: String!, $locale: String!) {
  edition(base_path: $base_path, locale: $locale) {
    ...DefaultTopLevelFields
    details {
      body
      logo
      office_contact_associations
      ordered_corporate_information_pages
      people_role_associations
      secondary_corporate_information_pages
      social_media_links
      world_location_names
    }
    links {
      ...AvailableTranslations
      ...Children
      contacts: links_of_type(type: contacts) {
        content_id
        details {
          contact_form_links
          description
          email_addresses
          phone_numbers
          post_addresses
          title
        }
        document_type
        locale
        public_updated_at
        schema_name
        title
        withdrawn
      }
      corporate_information_pages: links_of_type(type: corporate_information_pages) {
        api_path
        api_url
        base_path
        content_id
        document_type
        locale
        public_updated_at
        schema_name
        title
        web_url
        withdrawn
      }
      main_office: links_of_type(type: main_office) {
        api_path
        api_url
        base_path
        content_id
        details {
          access_and_opening_times
        }
        document_type
        locale
        public_updated_at
        schema_name
        title
        web_url
        withdrawn
      }
      primary_role_person: links_of_type(type: primary_role_person) {
        api_path
        api_url
        base_path
        content_id
        details {
          image
          privy_counsellor
        }
        document_type
        locale
        public_updated_at
        schema_name
        title
        web_url
        withdrawn
      }
      ...RoleAppointments
      ...Roles
      sponsoring_organisations: links_of_type(type: sponsoring_organisations) {
        analytics_identifier
        api_path
        api_url
        base_path
        content_id
        details {
          acronym
          brand
          default_news_image
          logo
          organisation_govuk_status
        }
        document_type
        locale
        schema_name
        title
        web_url
        withdrawn
      }
      ...Taxons
      ...WorldLocations
    }
  }
}
