<%#
Examples:
- https://www.gov.uk/government/how-government-works
%>

<%= render "fragments/default_top_level_fields" %>
<%= render "fragments/available_translations" %>
<%= render "fragments/mainstream_browse_pages" %>
<%= render "fragments/taxons" %>

query how_government_works($base_path: String!, $locale: String!) {
  edition(base_path: $base_path, locale: $locale) {
    ...DefaultTopLevelFields
    details {
      department_counts
      ministerial_role_counts
      reshuffle_in_progress
    }
    links {
      ...AvailableTranslations
      current_prime_minister: links_of_type(type: current_prime_minister) {
        api_path
        api_url
        base_path
        content_id
        details {
          image
          privy_counsellor
        }
        document_type
        locale
        public_updated_at
        schema_name
        title
        web_url
        withdrawn
      }
      ...MainstreamBrowsePages
      ...Taxons
    }
  }
}
